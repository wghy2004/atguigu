<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.atguigu.sys.domain.SysUser">
	<resultMap id="BaseResultMap" type="com.atguigu.sys.domain.SysUser">
		<id column="id" property="id" jdbcType="INTEGER" />
		<result column="email" property="email" jdbcType="VARCHAR" />
		<result column="password" property="password" jdbcType="VARCHAR" />
		<result column="salt" property="salt" jdbcType="VARCHAR" />
		<result column="uri" property="uri" jdbcType="VARCHAR" />
		<result column="nickname" property="nickname" jdbcType="VARCHAR" />
		<result column="title" property="title" jdbcType="VARCHAR" />
		<result column="tags" property="tags" jdbcType="VARCHAR" />
		<result column="type" property="type" jdbcType="VARCHAR" />
		<result column="point" property="point" jdbcType="INTEGER" />
		<result column="coin" property="coin" jdbcType="INTEGER" />
		<result column="smallAvatar" property="smallAvatar" jdbcType="VARCHAR" />
		<result column="mediumAvatar" property="mediumAvatar" jdbcType="VARCHAR" />
		<result column="largeAvatar" property="largeAvatar" jdbcType="VARCHAR" />
		<result column="emailVerified" property="emailVerified"
			jdbcType="BIT" />
		<result column="setup" property="setup" jdbcType="TINYINT" />
		<result column="roles" property="roles" jdbcType="VARCHAR" />
		<result column="promoted" property="promoted" jdbcType="TINYINT" />
		<result column="promotedTime" property="promotedTime" jdbcType="INTEGER" />
		<result column="locked" property="locked" jdbcType="TINYINT" />
		<result column="loginTime" property="loginTime" jdbcType="INTEGER" />
		<result column="loginIp" property="loginIp" jdbcType="VARCHAR" />
		<result column="loginSessionId" property="loginSessionId"
			jdbcType="VARCHAR" />
		<result column="approvalTime" property="approvalTime" jdbcType="INTEGER" />
		<result column="approvalStatus" property="approvalStatus"
			jdbcType="CHAR" />
		<result column="newMessageNum" property="newMessageNum"
			jdbcType="INTEGER" />
		<result column="newNotificationNum" property="newNotificationNum"
			jdbcType="INTEGER" />
		<result column="createdIp" property="createdIp" jdbcType="VARCHAR" />
		<result column="createdTime" property="createdTime" jdbcType="INTEGER" />
	</resultMap>
	<sql id="Base_Column_List">
		id, email, password, salt, uri, nickname, title, tags,
		type, point, coin,
		smallAvatar,
		mediumAvatar, largeAvatar,
		emailVerified, setup, roles, promoted, promotedTime,
		locked,
		loginTime,
		loginIp, loginSessionId, approvalTime, approvalStatus, newMessageNum,
		newNotificationNum, createdIp, createdTime
	</sql>
	
	<sql id="Base_Where_Clause">
		<where>
			<trim prefixOverrides="and">
				<if test="id != null"> and id = #{id}</if>
			</trim>
		</where>
		<if test="sorting != null">order by ${sorting}</if>

	</sql>
	
	<!-- 查询 -->
	<select id="select" resultMap="BaseResultMap" parameterType="java.util.Map">
		select
		<include refid="Base_Column_List" />
		from user
		<include refid="Base_Where_Clause" />
	</select>
	
	<!-- 查询总数 -->
	<select id="selectCount" resultType="java.lang.Long"
		parameterType="java.util.Map">
		select count(id)
		from user
		<include refid="Base_Where_Clause" />
	</select>
	<!-- 根据ID查询 -->
	<select id="selectById" resultMap="BaseResultMap" parameterType="java.lang.String">
		select
		<include refid="Base_Column_List" />
		from user
		where id = #{id}
	</select>
	
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		delete from user
		where id = #{id,jdbcType=INTEGER}
	</delete>
</mapper>